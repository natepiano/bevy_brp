[
  {"id": "phase1_1", "content": "Remove type parameter T and handler_data field from HandlerContext struct in service/handler_context.rs", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build1_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase1_2", "content": "Update HandlerContext constructor methods to remove handler_data parameter", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build1_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase2_1", "content": "Move extraction methods from BaseContext to base HandlerContext impl", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build2_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase2_2", "content": "Move extract_params_from_definition from BrpContext to capability-based impl", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build2_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy1", "content": "Run cargo clippy --workspace --all-targets --all-features -- -D warnings", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy1_fix", "content": "Fix all clippy issues following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase3_1", "content": "Update handler trait signatures in tool/types.rs to use pure capability-based contexts", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build3_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase3_2", "content": "Update ToolContext enum in tool/types.rs to use new context types", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build3_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase4_1", "content": "Update ToolDef.create_handler() in tool/tool_def.rs to create contexts directly", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build4_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase4_2", "content": "Update HasCallInfo implementations in service/handler_context.rs to remove type parameter T", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build4_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy2", "content": "Run cargo clippy --workspace --all-targets --all-features -- -D warnings", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy2_fix", "content": "Fix all clippy issues following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase5_1", "content": "Delete service/base_context.rs file entirely", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build5_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase5_2", "content": "Remove BrpContext struct and impl from service/mod.rs", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build5_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase5_3", "content": "Update service/mod.rs exports to remove BaseContext and BrpContext", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build5_3", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase6_1", "content": "Update BRP handler in brp_tools/request_handler/handler.rs to use new signature", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build6_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy3", "content": "Run cargo clippy --workspace --all-targets --all-features -- -D warnings", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy3_fix", "content": "Fix all clippy issues following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase6_2", "content": "Update all other handler implementations in app_tools/ to use new context signatures", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build6_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase6_3", "content": "Update HasFormatterConfig in tool/handler_fn.rs to remove type parameter T", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build6_3", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase7_1", "content": "Remove BaseContext and BrpContext imports throughout codebase", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build7_1", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "phase7_2", "content": "Update response/formatter.rs if needed to work with new context types", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "build7_2", "content": "Run cargo build and fix errors following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy4", "content": "Run cargo clippy --workspace --all-targets --all-features -- -D warnings", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "clippy4_fix", "content": "Fix all clippy issues following WarningRules", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "fmt", "content": "Run cargo +nightly fmt", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "test", "content": "Run cargo nextest run", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "test_check", "content": "STOP if test failures - review with user", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "subagent_stop", "content": "Subagent: STOP and return control", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "review_task", "content": "Main: Task new subagent for code review (read-only) - Focus: duplication, complexity, plan adherence", "status": "pending", "priority": "medium", "notes": ""},
  {"id": "review_discuss", "content": "Review suggestions with user", "status": "pending", "priority": "medium", "notes": ""}
]
EOF < /dev/null