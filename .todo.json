[
  {
    "id": "terminal-title",
    "content": "Run `echo -e \"\\e]2;Implementation: Complete Legacy Code Removal\\007\"` to set terminal title",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "meta-todo",
    "content": "META: Do not deviate from the plan - if you think you need to deviate, STOP and ask the user for guidance",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "move-utility-functions",
    "content": "Move convert_to_array_format, type_expects_array, type_format_error from transformations.rs to math_type.rs as private functions",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "move-utility-build",
    "content": "Build and fix any compile errors and warnings after moving utility functions",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "remove-legacy-fallback",
    "content": "Remove try_component_format_alternatives_legacy call from tier_execution.rs line 386",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "remove-legacy-build",
    "content": "Build and fix any compile errors and warnings after removing legacy fallback",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "rewrite-tests",
    "content": "Rewrite failing tests to test transformers directly instead of legacy functions",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "rewrite-tests-build",
    "content": "Build and fix any compile errors and warnings after rewriting tests",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "delete-transformations",
    "content": "Delete transformations.rs file and remove its mod declaration from mod.rs",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "delete-transformations-build",
    "content": "Build and fix any compile errors and warnings after deleting transformations.rs",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "clippy-check",
    "content": "Run `cargo clippy --workspace --all-targets --all-features -- -D warnings`",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "clippy-fix",
    "content": "Fix any clippy issues (remove dead code, don't use _ prefixes)",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "format-code",
    "content": "Run `cargo +nightly fmt`",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "run-tests",
    "content": "Run `cargo nextest run`",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "test-review",
    "content": "If there are test issues, STOP and review them with the user",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "code-review-stop",
    "content": "STOP work and prepare for code review phase",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "code-review-task",
    "content": "Task new subagent to review changes focusing on duplication, complexity, and validating implementation (read-only)",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "code-review-user",
    "content": "When subagent returns, STOP and review suggested changes with user",
    "status": "pending",
    "priority": "high",
    "notes": ""
  }
]