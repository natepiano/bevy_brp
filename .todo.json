[
  {
    "id": "phase3a-1-add-field",
    "content": "Add DiscoveryContext field to FormatDiscoveryEngine struct in engine.rs",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-2-build-check-field",
    "content": "Run cargo build and fix any errors from adding DiscoveryContext field",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-3-async-constructor",
    "content": "Make FormatDiscoveryEngine::new() async and create DiscoveryContext in constructor",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-4-build-check-async",
    "content": "Run cargo build and fix any errors from async constructor changes",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-5-update-client-caller",
    "content": "Update client.rs try_format_recovery to handle async engine constructor with .await",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-6-build-check-client",
    "content": "Run cargo build and fix any errors from client.rs updates",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-7-clippy-check-1",
    "content": "Run cargo clippy --workspace --all-targets --all-features -- -D warnings",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-8-fix-clippy-1",
    "content": "Fix all clippy issues following warning rules",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-9-move-level2-logic",
    "content": "Move execute_level_2_direct_discovery implementation from recovery_engine.rs to engine.rs",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-10-build-check-level2",
    "content": "Run cargo build and fix any errors from moving Level 2 logic",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-11-move-extract-component",
    "content": "Move extract_component_value helper function from recovery_engine.rs to engine.rs if needed",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-12-build-check-extract",
    "content": "Run cargo build and fix any errors from moving helper functions",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-13-move-build-result",
    "content": "Move build_recovery_success from recovery_engine.rs to engine.rs as build_recovery_result",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-14-build-check-build-result",
    "content": "Run cargo build and fix any errors from moving build_recovery_result",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-15-clippy-check-2",
    "content": "Run cargo clippy --workspace --all-targets --all-features -- -D warnings",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-16-fix-clippy-2",
    "content": "Fix all clippy issues following warning rules",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-17-update-attempt-discovery",
    "content": "Update attempt_discovery_with_recovery to use &mut self and access context field",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-18-build-check-attempt",
    "content": "Run cargo build and fix any errors from updating attempt_discovery_with_recovery",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-19-add-level2-tests",
    "content": "Add comprehensive tests for Level 2 with context field in engine.rs tests module",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-20-build-check-tests",
    "content": "Run cargo build and fix any errors from adding tests",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-21-format",
    "content": "Run cargo +nightly fmt",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-22-run-tests",
    "content": "Run cargo nextest run",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-23-stop-if-failures",
    "content": "STOP if test failures - review with user",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-24-stop-control",
    "content": "Subagent: STOP and return control",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-25-code-review",
    "content": "Main: Task new subagent for code review (read-only) - Focus: duplication, complexity, plan adherence",
    "status": "pending",
    "priority": "high",
    "notes": ""
  },
  {
    "id": "phase3a-26-review-suggestions",
    "content": "Review suggestions with user",
    "status": "pending",
    "priority": "high",
    "notes": ""
  }
]